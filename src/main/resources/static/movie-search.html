<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="'검색 결과: ' + ${query}">검색 결과</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">
<div class="container mt-5">
  <h2 class="mb-4" th:text="'🔍 검색 결과: ' + ${query}">검색 결과</h2>

  <form action="/movies/search-view" method="get" class="mb-4">
    <div class="input-group">
      <input type="text" name="query" class="form-control" placeholder="영화 제목 검색" th:value="${query}">
      <button type="submit" class="btn btn-primary">다시 검색</button>
    </div>
  </form>

  <div class="row row-cols-1 row-cols-md-4 g-4">
    <div class="col" th:each="movie : ${movies}">
      <div class="card h-100">
        <img th:src="'https://image.tmdb.org/t/p/w500' + ${movie.posterPath}" class="card-img-top" th:alt="${movie.title}">
        <div class="card-body">
          <h5 class="card-title" th:text="${movie.title}">영화 제목</h5>
          </a>
          <p class="card-text"><strong>개봉일:</strong> <span th:text="${movie.releaseDate}"></span></p>

          <!-- 상세보기 버튼 -->
          <a th:href="@{'/movies/detail/' + ${movie.id} + '?prev=/movies/search-view?query=' + ${query}}"
             class="btn btn-outline-primary btn-sm mt-2">
            상세보기
          </a>
        </div>
      </div>
    </div>
  </div>

  <div th:if="${movies == null or #lists.isEmpty(movies)}" class="mt-4">
    <p class="text-center text-muted">검색 결과가 없습니다</p>
  </div>
</div>
</body>
</html>
